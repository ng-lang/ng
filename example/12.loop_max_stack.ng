fun sum(n) {
  val s = 0;
  loop i = 0 {
    s = s + i;
    if (i < n) {
      next i + 1;
    }
  }
  return s;
}

fun sum2(i: int, n: int = 0) {
  if (i == 0) {
    return n;
  }
  next i-1, n+i;
}

fun sum3(i, n = 0) {
  if (i == 0) {
    return n;
  }
  return sum3(i - 1, n + i);
}

val n = 2969;
assert(sum(n) == sum2(n), sum2(n) == sum3(n));

print(sum3(n));